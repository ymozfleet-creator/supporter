<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MySupporter | å®Œå…¨ç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Noto+Sans+JP:wght@400;700;900&display=swap');
        body { font-family: 'Inter', 'Noto Sans JP', sans-serif; background-color: #060608; color: #ffffff; margin: 0; overflow-x: hidden; }
        .glass-panel { background: linear-gradient(145deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.01) 100%); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.08); }
        .campaign-card { transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .campaign-card:hover { border-color: rgba(249, 115, 22, 0.5); transform: translateY(-8px); }
        .progress-glow { box-shadow: 0 0 15px rgba(249, 115, 22, 0.6); background: linear-gradient(90deg, #f97316 0%, #fdba74 100%); }
        .fade-in { animation: fadeIn 0.4s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .input-field { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 0.75rem; padding: 0.75rem; width: 100%; outline: none; color: white; transition: 0.3s; font-size: 0.875rem; font-weight: bold; }
        .input-field:focus { border-color: #f97316; background: rgba(255,255,255,0.08); }
        .admin-tab { padding: 1rem; font-weight: 900; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.05em; transition: 0.3s; border-radius: 0.75rem; flex: 1; text-align: center; color: #64748b; white-space: nowrap; }
        .admin-tab.active { background: #f97316; color: white; }
        
        .modal-overlay { background: rgba(0,0,0,0.85); backdrop-filter: blur(10px); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .secret-trigger { cursor: default; user-select: none; }
        
        /* GOALã‚¹ã‚¿ãƒ³ãƒ—ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        .goal-stamp { animation: stamp 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; opacity: 0; transform: scale(2) rotate(-15deg); }
        @keyframes stamp { to { opacity: 1; transform: scale(1) rotate(-15deg); } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo } = React;

        const LegalModal = ({ title, content, isOpen, onClose }) => {
            if (!isOpen) return null;
            return (
                <div className="fixed inset-0 z-[100] modal-overlay flex items-center justify-center p-6 fade-in" onClick={onClose}>
                    <div className="bg-[#111] border border-white/10 w-full max-w-4xl max-h-[85vh] rounded-[2rem] overflow-hidden flex flex-col shadow-2xl" onClick={e => e.stopPropagation()}>
                        <div className="p-8 border-b border-white/5 flex justify-between items-center shrink-0 bg-[#161616]">
                            <h2 className="text-xl font-black italic text-orange-500 uppercase tracking-tighter">{title}</h2>
                            <button onClick={onClose} className="text-slate-500 hover:text-white font-black text-xs tracking-widest transition-colors">CLOSE</button>
                        </div>
                        <div className="p-8 overflow-y-auto text-sm text-slate-300 leading-relaxed font-medium space-y-6 no-scrollbar bg-[#0a0a0a]">
                            {content}
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [view, setView] = useState('home'); 
            const [activeTab, setActiveTab] = useState('campaigns'); 
            const [adminTab, setAdminTab] = useState('requests');
            const [searchQuery, setSearchQuery] = useState("");
            const [selectedCampaign, setSelectedCampaign] = useState(null);
            const [supportStep, setSupportStep] = useState(1);
            const [isAdminMode, setIsAdminMode] = useState(false);
            const [modal, setModal] = useState({ open: false, title: '', content: null });

            const [selectedAmount, setSelectedAmount] = useState(0); 
            const [customAmountInput, setCustomAmountInput] = useState(""); 

            const [showLogin, setShowLogin] = useState(false);
            const [loginEmail, setLoginEmail] = useState("");
            const [loginPass, setLoginPass] = useState("");

            const [rakutenCodes, setRakutenCodes] = useState({});

            const calcTarget = (price) => Math.floor((price + 500) * 1.1);

            // ãƒ‡ãƒ¼ã‚¿: æ”¯æ´å‹Ÿé›†
            const [campaigns, setCampaigns] = useState([
                { 
                    id: 1, 
                    team: "æ±äº¬ã‚µãƒƒã‚«ãƒ¼ã‚¢ã‚«ãƒ‡ãƒŸãƒ¼", 
                    category: "ã‚µãƒƒã‚«ãƒ¼", 
                    name: "å…¬å¼è©¦åˆçƒ 10å€‹ã‚»ãƒƒãƒˆ", 
                    price: 58000, 
                    current: 42000, 
                    supporters: 24, 
                    email: "contact@tsa.example.com", 
                    teamUrl: "https://example.com", 
                    snsUrl: "https://twitter.com/example",
                    image: "https://images-na.ssl-images-amazon.com/images/I/81xU7z9E4DL._AC_SL1500_.jpg", 
                    status: "active", 
                    month: "2026-01",
                    description: "å…¨å›½å¤§ä¼šã«å‘ã‘ãŸç·´ç¿’ã®è³ªã‚’ä¸Šã’ã‚‹ãŸã‚ã€å…¬å¼çƒãŒå¿…è¦ã§ã™ã€‚ç¾åœ¨ã®ãƒœãƒ¼ãƒ«ã¯å¤ããªã£ã¦ãŠã‚Šã€æœ¬ç•ªã¨åŒã˜ç’°å¢ƒã§ç·´ç¿’ã™ã‚‹ãŸã‚ã«ã”æ”¯æ´ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚" 
                },
                { 
                    id: 2, 
                    team: "å“å·ãƒ©ã‚¤ã‚ªãƒ³ã‚º", 
                    category: "é‡çƒ", 
                    name: "ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ç”¨ãƒŸãƒ‹ãƒãƒ¼ãƒ‰ãƒ«", 
                    price: 8500, 
                    current: 10000, 
                    supporters: 8, 
                    email: "info@lions.example.com", 
                    teamUrl: "", 
                    snsUrl: "",
                    image: "https://m.media-amazon.com/images/I/71m6i-V8NXL._AC_SL1500_.jpg", 
                    status: "completed", 
                    month: "2026-01",
                    description: "å†¬ã®ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°æœŸé–“ã«ãŠã‘ã‚‹åŸºç¤ä½“åŠ›å‘ä¸Šã®ãŸã‚ã€å®¤å†…ã§ã‚‚ä½¿ç”¨ã§ãã‚‹ãƒŸãƒ‹ãƒãƒ¼ãƒ‰ãƒ«ã®å°å…¥ã‚’å¸Œæœ›ã—ã¦ã„ã¾ã™ã€‚"
                },
                { 
                    id: 3, 
                    team: "æ¨ªæµœãƒã‚¹ã‚±ãƒƒãƒˆã‚¯ãƒ©ãƒ–", 
                    category: "ãƒã‚¹ã‚±", 
                    name: "ãƒ‡ã‚¸ã‚¿ãƒ«ã‚¿ã‚¤ãƒãƒ¼ 1å°", 
                    price: 12000, 
                    current: 5000, 
                    supporters: 45, 
                    email: "ybc@example.com", 
                    teamUrl: "", 
                    snsUrl: "",
                    image: "https://m.media-amazon.com/images/I/61r-CgB8aJL._AC_SL1000_.jpg", 
                    status: "active", 
                    month: "2026-01",
                    description: "ç·´ç¿’è©¦åˆã®åŠ¹ç‡åŒ–ã®ãŸã‚ã€å¤ã„ã‚¿ã‚¤ãƒãƒ¼ã‚’è²·ã„æ›¿ãˆãŸã„ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚"
                } 
            ]);

            // ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
            const filteredCampaigns = useMemo(() => {
                let filtered = campaigns.filter(c => {
                    const matchSearch = searchQuery === "" || 
                        c.team.toLowerCase().includes(searchQuery.toLowerCase()) || 
                        c.name.toLowerCase().includes(searchQuery.toLowerCase());
                    const isActiveOrCompleted = c.status === 'active' || c.status === 'completed';
                    return matchSearch && isActiveOrCompleted;
                });

                return filtered.sort((a, b) => {
                    const aTarget = calcTarget(a.price);
                    const bTarget = calcTarget(b.price);
                    const aIsGoal = a.current >= aTarget;
                    const bIsGoal = b.current >= bTarget;

                    if (aIsGoal && !bIsGoal) return 1;
                    if (!aIsGoal && bIsGoal) return -1;
                    
                    return b.supporters - a.supporters; 
                });
            }, [campaigns, searchQuery]);

            const [requests, setRequests] = useState([
                { id: 101, team: "ä¸–ç”°è°·RedWings", itemUrl: "https://amazon.co.jp/...", description: "ç·´ç¿’ç”¨ãƒ“ãƒ–ã‚¹ãŒä¸è¶³ã—ã¦ãŠã‚Šã€å¤§ä¼šã«å‘ã‘ã¦æ–°èª¿ã—ãŸã„ã§ã™ã€‚", email: "manager@redwings.example.com", teamUrl: "https://setagaya.example.com", snsUrl: "@setagaya_wings", estimatedPrice: 0, image: null, status: "pending" }
            ]);
            
            // â‘  ç”³è«‹ãƒ•ã‚©ãƒ¼ãƒ ã« teamUrl, snsUrl ã‚’è¿½åŠ 
            const [applyForm, setApplyForm] = useState({ team: "", email: "", itemUrl: "", teamUrl: "", snsUrl: "", description: "", image: null });
            const [applyAgreed, setApplyAgreed] = useState(false);

            const [reports, setReports] = useState([
                { id: 1, team: "å“å·ãƒ©ã‚¤ã‚ªãƒ³ã‚º", title: "ãƒãƒ¼ãƒ‰ãƒ«ãŒå±Šãã¾ã—ãŸï¼", content: "çš†æ§˜ã®æ”¯æ´ã®ãŠã‹ã’ã§ã€è³ªã®é«˜ã„ç·´ç¿’ãŒã§ãã¦ã„ã¾ã™ã€‚", image: "https://m.media-amazon.com/images/I/71m6i-V8NXL._AC_SL1500_.jpg", date: "2026-01-25" }
            ]);

            const docContent = {
                terms: (<div className="space-y-8"><div><h3 className="text-white font-bold border-b border-white/20 pb-2 mb-4 text-lg">ç¬¬1æ¡ï¼ˆç·å‰‡ï¼‰</h3><p>æœ¬è¦ç´„ã¯ã€MySupporteré‹å–¶äº‹å‹™å±€ï¼ˆä»¥ä¸‹ã€Œç”²ã€ï¼‰ãŒæä¾›ã™ã‚‹ç‰©å“æ”¯æ´ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã€ŒMySupporterã€ï¼ˆä»¥ä¸‹ã€Œæœ¬ã‚µãƒ¼ãƒ“ã‚¹ã€ï¼‰ã®åˆ©ç”¨æ¡ä»¶ã‚’å®šã‚ã‚‹ã‚‚ã®ã§ã™ã€‚åˆ©ç”¨è€…ã¯æœ¬è¦ç´„ã«åŒæ„ã®ä¸Šã€æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã™ã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚</p></div><div><h3 className="text-white font-bold border-b border-white/20 pb-2 mb-4 text-lg">ç¬¬2æ¡ï¼ˆæ”¯æ´é‡‘ã®ä½¿é€”ã¨ä»•çµ„ã¿ï¼‰</h3><ul className="list-disc pl-5 space-y-2 text-slate-400"><li>æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€ã‚µãƒãƒ¼ã‚¿ãƒ¼ã‹ã‚‰ã®æ”¯æ´é‡‘ã‚’åŸè³‡ã¨ã—ã¦ã€ç”²ãŒãƒãƒ¼ãƒ ã®å¸Œæœ›ã™ã‚‹ç‰©å“ã‚’ä»£ç†è³¼å…¥ã—ã€é…é€ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚</li><li>æ”¯æ´é‡‘ã«ã¯ã€ç‰©å“ä»£é‡‘ã®ã»ã‹ã€ã‚·ã‚¹ãƒ†ãƒ åˆ©ç”¨æ–™ï¼ˆ10%ï¼‰ã€é…é€ãƒ»æ¢±åŒ…ç­‰ã®äº‹å‹™æ‰‹æ•°æ–™ï¼ˆä¸€å¾‹500å††ï¼‰ãŒå«ã¾ã‚Œã¾ã™ã€‚</li><li>ç›®æ¨™é‡‘é¡ã«åˆ°é”ã—ãŸæ™‚ç‚¹ã§æ±ºæ¸ˆãŒç¢ºå®šã—ã€ç‰©å“ã®æ‰‹é…ãŒè¡Œã‚ã‚Œã¾ã™ã€‚</li></ul></div><div><h3 className="text-white font-bold border-b border-white/20 pb-2 mb-4 text-lg text-orange-500">ç¬¬3æ¡ï¼ˆè¡¨æ˜ä¿è¨¼ãŠã‚ˆã³ç¦æ­¢äº‹é …ï¼‰</h3><p>æ²è¼‰ã‚’ç”³è«‹ã™ã‚‹ãƒãƒ¼ãƒ ä»£è¡¨è€…ã¯ã€ä»¥ä¸‹ã®äº‹é …ã‚’è¡¨æ˜ã—ä¿è¨¼ã—ã¾ã™ã€‚</p><ul className="list-disc pl-5 mt-2 space-y-2 text-slate-400"><li>å®Ÿåœ¨ã™ã‚‹å›£ä½“ã§ã‚ã‚Šã€å…·ä½“çš„ãªæ´»å‹•å®Ÿæ…‹ãŒã‚ã‚‹ã“ã¨ã€‚</li><li>ç”³è«‹å†…å®¹ï¼ˆãƒãƒ¼ãƒ åã€æ´»å‹•å†…å®¹ã€ç‰©å“ã®å¿…è¦æ€§ï¼‰ã«ä¸€åˆ‡ã®è™šå½ãŒãªã„ã“ã¨ã€‚</li><li>åç¤¾ä¼šçš„å‹¢åŠ›ï¼ˆæš´åŠ›å›£ã€æš´åŠ›å›£å“¡ã€ãã®ä»–ã“ã‚Œã«æº–ãšã‚‹è€…ï¼‰ã«è©²å½“ã—ãªã„ã“ã¨ã€‚</li></ul><p className="mt-2 text-red-400 font-bold">â€»è™šå½ã®ç”³è«‹ã«ã‚ˆã‚Šé‡‘éŠ­ã¾ãŸã¯ç‰©å“ã‚’å—é ˜ã—ãŸå ´åˆã€è©æ¬ºç½ªã¨ã—ã¦ã®åˆ‘äº‹å‘Šè¨´ãŠã‚ˆã³æå®³è³ å„Ÿè«‹æ±‚ã‚’è¡Œã„ã¾ã™ã€‚</p></div><div><h3 className="text-white font-bold border-b border-white/20 pb-2 mb-4 text-lg">ç¬¬4æ¡ï¼ˆè¿”é‡‘ãƒ»å…è²¬ï¼‰</h3><p>æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®æ€§è³ªä¸Šï¼ˆå¯„ä»˜ãƒ»æ”¯æ´ï¼‰ã€åŸå‰‡ã¨ã—ã¦æ±ºæ¸ˆå®Œäº†å¾Œã®ã‚µãƒãƒ¼ã‚¿ãƒ¼éƒ½åˆã«ã‚ˆã‚‹è¿”é‡‘ãƒ»ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã¯å—ã‘ä»˜ã‘ã¾ã›ã‚“ã€‚ãŸã ã—ã€ãƒãƒ¼ãƒ ã®è§£æ•£ã‚„æ´»å‹•åœæ­¢ã«ã‚ˆã‚Šç‰©å“é€ä»˜ãŒä¸èƒ½ã¨ãªã£ãŸå ´åˆã¯ã€ç”²ã®åˆ¤æ–­ã«ã‚ˆã‚Šè¿”é‡‘ç­‰ã®æªç½®ã‚’è¬›ã˜ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚</p></div></div>),
                privacy: (<div className="space-y-8"><div><h3 className="text-white font-bold border-b border-white/20 pb-2 mb-4 text-lg">1. å€‹äººæƒ…å ±ã®åé›†</h3><p>æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã§ã¯ã€æ±ºæ¸ˆå‡¦ç†ãŠã‚ˆã³å•†å“é…é€ã€æ´»å‹•å ±å‘Šã®ãŸã‚ã«ã€ä»¥ä¸‹ã®å€‹äººæƒ…å ±ã‚’å–å¾—ã—ã¾ã™ã€‚</p><ul className="list-disc pl-5 mt-2 text-slate-400"><li>æ°åã€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã€é›»è©±ç•ªå·ã€ä½æ‰€ï¼ˆé…é€å…ˆã®ã¿ï¼‰ã€ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰æƒ…å ±ï¼ˆæ±ºæ¸ˆä»£è¡Œæ¥­è€…ã®ã¿ãŒä¿æŒï¼‰</li></ul></div><div><h3 className="text-white font-bold border-b border-white/20 pb-2 mb-4 text-lg">2. å€‹äººæƒ…å ±ã®åˆ©ç”¨ç›®çš„</h3><p>å–å¾—ã—ãŸæƒ…å ±ã¯ã€ä»¥ä¸‹ã®ç›®çš„ä»¥å¤–ã«ã¯åˆ©ç”¨ã—ã¾ã›ã‚“ã€‚</p><ul className="list-disc pl-5 mt-2 text-slate-400"><li>æ”¯æ´ç‰©å“ã®è³¼å…¥ãŠã‚ˆã³é…é€æ¥­å‹™</li><li>æ±ºæ¸ˆæ‰‹ç¶šããŠã‚ˆã³é ˜åæ›¸ç­‰ã®ç™ºè¡Œ</li><li>ã‚µãƒ¼ãƒ“ã‚¹ã«é–¢ã™ã‚‹é‡è¦ãªãŠçŸ¥ã‚‰ã›ã€æ´»å‹•å ±å‘Šã®é€ä»˜</li></ul></div><div><h3 className="text-white font-bold border-b border-white/20 pb-2 mb-4 text-lg">3. ç¬¬ä¸‰è€…æä¾›</h3><p>æ³•ä»¤ã«åŸºã¥ãå ´åˆã‚’é™¤ãã€åˆ©ç”¨è€…ã®åŒæ„ãªãç¬¬ä¸‰è€…ã«å€‹äººæƒ…å ±ã‚’æä¾›ã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãŸã ã—ã€æ”¯æ´å…ˆã®ãƒãƒ¼ãƒ ã«å¯¾ã—ã¦ã¯ã€æ”¯æ´è€…ãƒªã‚¹ãƒˆã¨ã—ã¦æ°åï¼ˆãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ï¼‰ã®ã¿é–‹ç¤ºã•ã‚Œã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚</p></div></div>),
                tokusho: (<div className="space-y-6"><table className="w-full text-left text-sm border-collapse"><tbody className="divide-y divide-white/10"><tr><th className="py-4 text-white w-1/3">è²©å£²æ¥­è€…</th><td className="py-4 text-slate-300">MySupporter é‹å–¶äº‹å‹™å±€</td></tr><tr><th className="py-4 text-white">é‹å–¶çµ±æ‹¬è²¬ä»»è€…</th><td className="py-4 text-slate-300">èŒ‚ä½ é›„å¤ª</td></tr><tr><th className="py-4 text-white">æ‰€åœ¨åœ°</th><td className="py-4 text-slate-300">æ±äº¬éƒ½ä¸­é‡åŒºï¼ˆè«‹æ±‚ãŒã‚ã‚Šæ¬¡ç¬¬ã€é…æ»ãªãé–‹ç¤ºã—ã¾ã™ï¼‰</td></tr><tr><th className="py-4 text-white">é€£çµ¡å…ˆ</th><td className="py-4 text-orange-500">kanri@mycoach-myteam.com</td></tr><tr><th className="py-4 text-white">è²©å£²ä¾¡æ ¼</th><td className="py-4 text-slate-300">å„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒšãƒ¼ã‚¸ã«è¨˜è¼‰ï¼ˆå•†å“ä»£é‡‘ï¼‹ã‚·ã‚¹ãƒ†ãƒ æ‰‹æ•°æ–™ï¼‹é€æ–™ï¼‰</td></tr><tr><th className="py-4 text-white">å•†å“ä»£é‡‘ä»¥å¤–ã®å¿…è¦æ–™é‡‘</th><td className="py-4 text-slate-300">ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šæ–™é‡‘ã€é€šä¿¡æ–™é‡‘ç­‰</td></tr><tr><th className="py-4 text-white">æ”¯æ‰•æ–¹æ³•</th><td className="py-4 text-slate-300">ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰æ±ºæ¸ˆï¼ˆStripeï¼‰</td></tr><tr><th className="py-4 text-white">å•†å“ã®å¼•æ¸¡æ™‚æœŸ</th><td className="py-4 text-slate-300">ç›®æ¨™é‡‘é¡é”æˆå¾Œã€Amazon/æ¥½å¤©ç­‰ã®åœ¨åº«çŠ¶æ³ã«æº–ã˜ã¦7å–¶æ¥­æ—¥ä»¥å†…ã«ç™ºé€æ‰‹é…</td></tr><tr><th className="py-4 text-white">ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒ»è¿”å“</th><td className="py-4 text-slate-300">æ”¯æ´ã¨ã„ã†æ€§è³ªä¸Šã€åŸå‰‡ã¨ã—ã¦ãŠå—ã‘ã§ãã¾ã›ã‚“ã€‚</td></tr></tbody></table></div>)
            };

            const handleImageUpload = (e, callback) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onloadend = () => callback(reader.result);
                    reader.readAsDataURL(file);
                }
            };

            const extractImageFromCode = (code) => {
                if (!code) return null;
                const match = code.match(/<img[^>]+src="([^">]+)"/);
                return match ? match[1] : null;
            };

            const stats = useMemo(() => {
                const total = campaigns.reduce((acc, c) => acc + c.current, 0);
                const completedCount = campaigns.filter(c => c.status === 'completed' || c.status === 'ordered').length;
                return { total, fee: Math.floor(total * 0.1), shipping: completedCount * 500 };
            }, [campaigns]);

            const handleLogin = () => {
                if (loginEmail === "y.moz.fleet@gmail.com" && loginPass === "Rushers1#") {
                    setIsAdminMode(true);
                    setView('admin');
                    setShowLogin(false);
                    setLoginEmail("");
                    setLoginPass("");
                } else {
                    alert("ã‚¢ã‚¯ã‚»ã‚¹ã‚³ãƒ¼ãƒ‰ã¾ãŸã¯ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒé–“é•ã£ã¦ã„ã¾ã™");
                }
            };

            const handleCustomAmountChange = (e) => {
                const val = e.target.value;
                setCustomAmountInput(val);
                setSelectedAmount(parseInt(val) || 0);
            };

            const shareUrl = "https://mysupporter.example.com"; 
            const shareText = (c) => encodeURIComponent(`ã€MySupporterã€‘${c.team}ã®ã€Œ${c.name}ã€ã‚’å¿œæ´ã—ã‚ˆã†ï¼æœªæ¥ã®ã‚¢ã‚¹ãƒªãƒ¼ãƒˆã‚’æ”¯æ´ã€‚`);
            
            const copyToClipboard = () => {
                navigator.clipboard.writeText(shareUrl + " " + decodeURIComponent(shareText(selectedCampaign))).then(() => alert("ãƒªãƒ³ã‚¯ã¨ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼Instagramãªã©ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚"));
            };

            return (
                <div className="min-h-screen flex flex-col relative">
                    <LegalModal isOpen={modal.open} title={modal.title} content={modal.content} onClose={() => setModal({open: false, title: '', content: null})} />

                    {showLogin && (
                        <div className="fixed inset-0 z-[100] bg-black/90 backdrop-blur-md flex items-center justify-center fade-in">
                            <div className="glass-panel p-10 rounded-[2rem] w-full max-w-md border border-orange-500/30 shadow-2xl space-y-6">
                                <div className="text-center"><h3 className="text-2xl font-black italic uppercase text-white mb-2">Admin Access</h3><p className="text-xs text-slate-500 font-bold uppercase tracking-widest">ç®¡ç†è€…å°‚ç”¨ã‚¢ã‚¯ã‚»ã‚¹</p></div>
                                <div className="space-y-4">
                                    <input type="email" className="input-field" placeholder="ç®¡ç†è€…ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹" value={loginEmail} onChange={(e) => setLoginEmail(e.target.value)} />
                                    <input type="password" className="input-field" placeholder="ã‚¢ã‚¯ã‚»ã‚¹ã‚³ãƒ¼ãƒ‰" value={loginPass} onChange={(e) => setLoginPass(e.target.value)} />
                                </div>
                                <div className="flex gap-4">
                                    <button onClick={handleLogin} className="flex-1 bg-orange-600 text-white font-black italic uppercase py-4 rounded-xl hover:bg-orange-500 transition">ãƒ­ã‚°ã‚¤ãƒ³</button>
                                    <button onClick={() => setShowLogin(false)} className="px-6 border border-white/10 rounded-xl font-bold text-xs uppercase hover:bg-white hover:text-black transition">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
                                </div>
                            </div>
                        </div>
                    )}

                    <nav className="h-20 flex items-center justify-between px-8 sticky top-0 bg-[#060608]/90 backdrop-blur-xl z-50 border-b border-white/5 gap-4">
                        <div className="flex items-center gap-3 cursor-pointer shrink-0" onClick={() => {setView('home'); setActiveTab('campaigns'); setIsAdminMode(false);}}>
                            <div className="bg-orange-600 w-10 h-10 rounded-xl flex items-center justify-center italic font-black text-white shadow-lg text-xl">S</div>
                            <span className="font-black text-2xl tracking-tighter uppercase italic text-white hidden sm:block">MySupporter</span>
                        </div>
                        
                        {!isAdminMode && (
                            <div className="flex-1 max-w-md mx-4 relative hidden md:block">
                                <input 
                                    type="text" 
                                    placeholder="ãƒãƒ¼ãƒ åã‚„å•†å“ã§æ¤œç´¢..." 
                                    value={searchQuery}
                                    onChange={(e) => setSearchQuery(e.target.value)}
                                    className="w-full bg-white/10 border border-white/10 rounded-full py-2 px-10 text-xs font-bold text-white focus:border-orange-500 outline-none transition"
                                />
                                <div className="absolute left-3 top-1/2 -translate-y-1/2 text-slate-500">ğŸ”</div>
                            </div>
                        )}

                        <div className="flex gap-4">
                            {!isAdminMode && (
                                <div className="hidden lg:flex bg-white/5 p-1 rounded-full border border-white/10 mr-4">
                                    {['campaigns', 'howitworks', 'thanks'].map(tab => (
                                        <button key={tab} onClick={() => {setView('home'); setActiveTab(tab);}} className={`px-6 py-2 rounded-full text-[10px] font-black uppercase tracking-widest transition-all ${activeTab === tab ? 'bg-orange-600 text-white shadow-lg' : 'text-slate-400 hover:text-white'}`}>
                                            {tab === 'campaigns' ? 'æ”¯æ´å‹Ÿé›†' : tab === 'howitworks' ? 'ã”åˆ©ç”¨ãƒ•ãƒ­ãƒ¼' : 'æ´»å‹•å ±å‘Š'}
                                        </button>
                                    ))}
                                </div>
                            )}
                            <button onClick={() => {setView('apply'); setIsAdminMode(false);}} className="text-[10px] font-black uppercase border border-white/20 px-6 py-2 rounded-full hover:bg-white hover:text-black transition whitespace-nowrap">æ²è¼‰ãƒªã‚¯ã‚¨ã‚¹ãƒˆ</button>
                            {isAdminMode && (
                                <button onClick={() => {setIsAdminMode(false); setView('home');}} className="text-[10px] font-black bg-red-600 text-white px-6 py-2 rounded-full uppercase whitespace-nowrap">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
                            )}
                        </div>
                    </nav>

                    <main className="flex-grow">
                        {view === 'admin' && isAdminMode ? (
                            <div className="max-w-7xl mx-auto p-12 fade-in">
                                <h2 className="text-4xl font-black italic text-orange-500 uppercase mb-8 tracking-tighter">ç®¡ç†è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h2>
                                <div className="flex bg-white/5 p-1 rounded-2xl border border-white/10 mb-12 gap-2 overflow-x-auto">
                                    <button onClick={() => setAdminTab('requests')} className={`admin-tab ${adminTab === 'requests' ? 'active' : 'text-slate-500'}`}>ãƒªã‚¯ã‚¨ã‚¹ãƒˆç®¡ç†</button>
                                    <button onClick={() => setAdminTab('campaigns')} className={`admin-tab ${adminTab === 'campaigns' ? 'active' : 'text-slate-500'}`}>å‹Ÿé›†ç·¨é›†</button>
                                    <button onClick={() => setAdminTab('orders')} className={`admin-tab ${adminTab === 'orders' ? 'active' : 'text-slate-500'}`}>ç™ºæ³¨ç®¡ç†</button>
                                    <button onClick={() => setAdminTab('reports')} className={`admin-tab ${adminTab === 'reports' ? 'active' : 'text-slate-500'}`}>æ´»å‹•å ±å‘Šä½œæˆ</button>
                                    <button onClick={() => setAdminTab('revenue')} className={`admin-tab ${adminTab === 'revenue' ? 'active' : 'text-slate-500'}`}>åç›Šç®¡ç†</button>
                                </div>
                                
                                {/* ãƒªã‚¯ã‚¨ã‚¹ãƒˆç®¡ç† (â‘¡ URLè¡¨ç¤ºè¿½åŠ ) */}
                                {adminTab === 'requests' && (
                                    <div className="grid gap-6">
                                        {requests.length === 0 && <p className="text-center text-slate-500">ç¾åœ¨ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ã‚ã‚Šã¾ã›ã‚“</p>}
                                        {requests.map(req => (
                                            <div key={req.id} className="glass-panel p-8 rounded-[2rem] grid grid-cols-1 md:grid-cols-3 gap-8 border-l-8 border-orange-600">
                                                <div className="space-y-4">
                                                    <div className="aspect-video bg-white/5 rounded-2xl overflow-hidden relative group border border-dashed border-white/20 flex items-center justify-center">
                                                        {req.image ? <img src={req.image} className="w-full h-full object-cover" /> : <span className="text-[10px] font-bold text-slate-500">ç”»åƒæœªè¨­å®š</span>}
                                                        <input type="file" className="absolute inset-0 opacity-0 cursor-pointer" onChange={(e) => handleImageUpload(e, (res) => setRequests(requests.map(r => r.id === req.id ? {...r, image: res} : r)))} />
                                                    </div>
                                                    <div className="space-y-2">
                                                        <label className="text-[10px] font-bold text-slate-500 uppercase">æ¥½å¤©å•†å“ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‹ã‚‰æŠ½å‡º</label>
                                                        <textarea 
                                                            className="input-field text-xs h-16 font-mono" 
                                                            placeholder="<img src='...' > ãªã©ã®HTMLã‚¿ã‚°ã‚’è²¼ã‚Šä»˜ã‘"
                                                            value={rakutenCodes[req.id] || ""}
                                                            onChange={(e) => setRakutenCodes({...rakutenCodes, [req.id]: e.target.value})}
                                                        />
                                                        <button 
                                                            className="w-full py-2 bg-white/10 hover:bg-white/20 rounded-lg text-[10px] font-bold uppercase transition"
                                                            onClick={() => {
                                                                const src = extractImageFromCode(rakutenCodes[req.id]);
                                                                if(src) {
                                                                    setRequests(requests.map(r => r.id === req.id ? {...r, image: src} : r));
                                                                    alert("ç”»åƒã‚’æŠ½å‡ºãƒ»è¨­å®šã—ã¾ã—ãŸ");
                                                                } else {
                                                                    alert("ç”»åƒURLãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ");
                                                                }
                                                            }}
                                                        >
                                                            ç”»åƒã‚’é©ç”¨
                                                        </button>
                                                    </div>
                                                    <div className="space-y-1"><label className="text-[10px] font-bold text-slate-500 uppercase">å•†å“URL</label><input className="input-field text-blue-400 text-xs" value={req.itemUrl} onChange={(e) => setRequests(requests.map(r => r.id === req.id ? {...r, itemUrl: e.target.value} : r))} /><a href={req.itemUrl} target="_blank" className="text-[10px] text-orange-500 underline ml-1">ãƒªãƒ³ã‚¯ã‚’ç¢ºèª</a></div>
                                                </div>
                                                <div className="md:col-span-2 flex flex-col justify-between">
                                                    <div className="space-y-4">
                                                        <div className="grid grid-cols-2 gap-4">
                                                            <div><label className="text-[10px] font-bold text-slate-500 uppercase">ãƒãƒ¼ãƒ å</label><input className="text-2xl font-black bg-transparent w-full outline-none border-b border-white/10 pb-2" value={req.team} onChange={(e) => setRequests(requests.map(r => r.id === req.id ? {...r, team: e.target.value} : r))} /></div>
                                                            <div><label className="text-[10px] font-bold text-slate-500 uppercase">é€£çµ¡å…ˆãƒ¡ãƒ¼ãƒ«</label><input className="text-sm bg-transparent w-full outline-none border-b border-white/10 pb-2 text-slate-300" value={req.email} onChange={(e) => setRequests(requests.map(r => r.id === req.id ? {...r, email: e.target.value} : r))} /></div>
                                                        </div>
                                                        
                                                        {/* ãƒãƒ¼ãƒ URLãƒ»SNS (ç®¡ç†è€…ç¢ºèªç”¨) */}
                                                        <div className="grid grid-cols-2 gap-4">
                                                            <div><label className="text-[10px] font-bold text-slate-500 uppercase">ãƒãƒ¼ãƒ URL</label><div className="text-xs text-blue-400 truncate"><a href={req.teamUrl} target="_blank">{req.teamUrl || "æœªå…¥åŠ›"}</a></div></div>
                                                            <div><label className="text-[10px] font-bold text-slate-500 uppercase">SNS URL</label><div className="text-xs text-blue-400 truncate"><a href={req.snsUrl} target="_blank">{req.snsUrl || "æœªå…¥åŠ›"}</a></div></div>
                                                        </div>

                                                        <div className="bg-white/5 p-4 rounded-xl border border-white/10">
                                                            <div className="flex justify-between items-center mb-2">
                                                                <label className="text-[10px] font-bold text-orange-500 uppercase">å•†å“ä¾¡æ ¼ (ç¨è¾¼)</label>
                                                                <span className="text-[10px] text-slate-500">â€»URLç­‰ã‚’ç¢ºèªã—ã¦å…¥åŠ›</span>
                                                            </div>
                                                            <input type="number" className="input-field text-xl font-bold mb-3" placeholder="ä¾‹: 15000" value={req.estimatedPrice || ''} onChange={(e) => setRequests(requests.map(r => r.id === req.id ? {...r, estimatedPrice: parseInt(e.target.value)} : r))} />
                                                            {req.estimatedPrice > 0 && (
                                                                <div className="text-xs space-y-1 text-slate-400 font-mono">
                                                                    <div className="flex justify-between"><span>å•†å“ä»£é‡‘:</span><span>Â¥{req.estimatedPrice.toLocaleString()}</span></div>
                                                                    <div className="flex justify-between"><span>é€æ–™ãƒ»è«¸çµŒè²»:</span><span>+Â¥500</span></div>
                                                                    <div className="flex justify-between pb-1 border-b border-white/10"><span>ã‚·ã‚¹ãƒ†ãƒ æ‰‹æ•°æ–™ (10%):</span><span>Ã— 1.1</span></div>
                                                                    <div className="flex justify-between text-white font-bold text-sm pt-1"><span>æ²è¼‰ç›®æ¨™é‡‘é¡:</span><span>Â¥{calcTarget(req.estimatedPrice).toLocaleString()}</span></div>
                                                                </div>
                                                            )}
                                                        </div>
                                                        <div><label className="text-[10px] font-bold text-slate-500 uppercase">ç”³è«‹ç†ç”±</label><textarea className="input-field h-24" value={req.description} onChange={(e) => setRequests(requests.map(r => r.id === req.id ? {...r, description: e.target.value} : r))} placeholder="ç”³è«‹ç†ç”±" /></div>
                                                    </div>
                                                    <div className="flex gap-4 mt-8">
                                                        <button onClick={() => {
                                                            if (!req.estimatedPrice || req.estimatedPrice <= 0) { alert("é‡‘é¡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"); return; }
                                                            // æ‰¿èªæ™‚ã«teamUrl, snsUrlã‚‚å¼•ãç¶™ã
                                                            setCampaigns([...campaigns, { ...req, id: Date.now(), name: "æ–°è¦å‹Ÿé›†å•†å“ (ç·¨é›†ã—ã¦ãã ã•ã„)", category:"æœªè¨­å®š", price: req.estimatedPrice, current: 0, status: 'active', month: new Date().toISOString().slice(0, 7), supporters: 0 }]);
                                                            setRequests(requests.filter(r => r.id !== req.id));
                                                            alert("æ‰¿èªã—ã€å‹Ÿé›†ã‚’é–‹å§‹ã—ã¾ã—ãŸ");
                                                        }} className="flex-1 bg-orange-600 text-xs font-black py-4 rounded-xl uppercase hover:bg-orange-500 transition">æ‰¿èªã—ã¦æ²è¼‰ (é‡‘é¡ç¢ºå®š)</button>
                                                        <button onClick={() => setRequests(requests.filter(r => r.id !== req.id))} className="px-10 border border-white/10 text-xs font-black rounded-xl hover:bg-red-600 transition">å‰Šé™¤</button>
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                )}
                                
                                {/* å‹Ÿé›†ç·¨é›† (â‘¡ URLç·¨é›†æ¬„è¿½åŠ ) */}
                                {adminTab === 'campaigns' && (
                                    <div className="grid grid-cols-1 gap-4">
                                        {campaigns.map(c => (
                                            <div key={c.id} className="glass-panel p-6 rounded-3xl flex flex-col md:flex-row items-center gap-6 border border-white/5">
                                                <div className="w-32 shrink-0 space-y-2">
                                                    <div className="w-full h-32 bg-white rounded-2xl p-2 relative overflow-hidden"><img src={c.image} className="w-full h-full object-contain" /><input type="file" className="absolute inset-0 opacity-0 cursor-pointer" onChange={(e) => handleImageUpload(e, (res) => setCampaigns(campaigns.map(item => item.id === c.id ? {...item, image: res} : item)))} /></div>
                                                    <input className="input-field py-1 px-2 text-[10px] w-full" placeholder="æ¥½å¤©ã‚³ãƒ¼ãƒ‰è²¼ä»˜" value={rakutenCodes[c.id] || ""} onChange={(e) => setRakutenCodes({...rakutenCodes, [c.id]: e.target.value})} />
                                                    <button className="w-full py-1 bg-white/10 rounded text-[10px]" onClick={() => {const src = extractImageFromCode(rakutenCodes[c.id]); if(src) setCampaigns(campaigns.map(item => item.id === c.id ? {...item, image: src} : item));}}>ç”»åƒæŠ½å‡º</button>
                                                </div>
                                                <div className="flex-grow space-y-4 w-full">
                                                    <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                                                        <div><label className="text-[10px] font-black text-slate-500">ãƒãƒ¼ãƒ å</label><input className="input-field py-1 px-2 text-xs" value={c.team} onChange={(e) => setCampaigns(campaigns.map(i => i.id === c.id ? {...i, team: e.target.value} : i))} /></div>
                                                        <div><label className="text-[10px] font-black text-slate-500">å•†å“å</label><input className="input-field py-1 px-2 text-xs" value={c.name} onChange={(e) => setCampaigns(campaigns.map(i => i.id === c.id ? {...i, name: e.target.value} : i))} /></div>
                                                        <div><label className="text-[10px] font-black text-slate-500">å•†å“ä¾¡æ ¼ (å††)</label><input type="number" className="input-field py-1 px-2 text-xs text-orange-400" value={c.price} onChange={(e) => setCampaigns(campaigns.map(i => i.id === c.id ? {...i, price: parseInt(e.target.value)} : i))} /></div>
                                                        <div><label className="text-[10px] font-black text-slate-500">ç›®æ¨™é‡‘é¡</label><div className="text-sm font-black pt-2 text-white">Â¥{calcTarget(c.price).toLocaleString()}</div><div className="text-[9px] text-slate-500">æ‰‹æ•°æ–™ãƒ»é€æ–™è¾¼</div></div>
                                                    </div>
                                                    
                                                    {/* URLç·¨é›†æ¬„ã®è¿½åŠ  */}
                                                    <div className="grid grid-cols-2 gap-4">
                                                        <div><label className="text-[10px] font-black text-slate-500">ãƒãƒ¼ãƒ URL</label><input className="input-field py-1 px-2 text-xs" value={c.teamUrl || ""} onChange={(e) => setCampaigns(campaigns.map(i => i.id === c.id ? {...i, teamUrl: e.target.value} : i))} /></div>
                                                        <div><label className="text-[10px] font-black text-slate-500">SNS URL</label><input className="input-field py-1 px-2 text-xs" value={c.snsUrl || ""} onChange={(e) => setCampaigns(campaigns.map(i => i.id === c.id ? {...i, snsUrl: e.target.value} : i))} /></div>
                                                    </div>

                                                    <div><label className="text-[10px] font-black text-slate-500">å‹Ÿé›†ç†ç”±ãƒ»èƒŒæ™¯</label><textarea className="input-field text-xs h-20" value={c.description || ''} onChange={(e) => setCampaigns(campaigns.map(i => i.id === c.id ? {...i, description: e.target.value} : i))} placeholder="å‹Ÿé›†ã®èƒŒæ™¯ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"></textarea></div>
                                                    <div className="w-full h-1 bg-white/10 rounded-full overflow-hidden"><div className="h-full bg-orange-500" style={{width: `${Math.min((c.current/calcTarget(c.price))*100, 100)}%`}}></div></div>
                                                </div>
                                                <button onClick={() => {if(confirm("å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ")) setCampaigns(campaigns.filter(i => i.id !== c.id))}} className="text-xs font-black border border-white/10 px-4 py-2 rounded-lg hover:bg-red-600 uppercase shrink-0">å‰Šé™¤</button>
                                            </div>
                                        ))}
                                    </div>
                                )}
                                
                                {adminTab === 'orders' && (<div className="space-y-6"><div className="glass-panel p-6 rounded-2xl bg-orange-600/10 border-orange-600/30"><h3 className="text-lg font-black italic uppercase">ç™ºæ³¨å¾…ã¡ãƒªã‚¹ãƒˆ</h3><p className="text-xs text-slate-400">ç›®æ¨™é‡‘é¡ã‚’é”æˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ç™ºæ³¨ã‚’è¡Œã£ã¦ãã ã•ã„ã€‚</p></div>{campaigns.filter(c => c.current >= calcTarget(c.price) && c.status !== 'ordered').map(c => (<div key={c.id} className="glass-panel p-8 rounded-[2rem] flex flex-col md:flex-row items-center gap-8 border-l-8 border-green-500"><div className="w-32 h-32 bg-white rounded-2xl p-4 shrink-0 flex items-center justify-center"><img src={c.image} className="max-h-full object-contain" /></div><div className="flex-grow space-y-2"><div className="flex items-center gap-3"><span className="bg-green-500 text-black text-[10px] font-black px-2 py-1 rounded">é”æˆæ¸ˆã¿</span><span className="text-xs font-bold text-slate-400">ID: {c.id}</span></div><h3 className="text-2xl font-black italic">{c.team}</h3><p className="text-lg font-bold">{c.name}</p><div className="flex gap-6 mt-2 text-sm text-slate-300"><div><span className="text-[10px] uppercase text-slate-500 block">é€£çµ¡å…ˆ</span>{c.email || 'æœªç™»éŒ²'}</div><div><span className="text-[10px] uppercase text-slate-500 block">å•†å“ä¾¡æ ¼</span>Â¥{c.price.toLocaleString()}</div><div><span className="text-[10px] uppercase text-slate-500 block">é”æˆé‡‘é¡</span>Â¥{c.current.toLocaleString()}</div></div></div><div className="flex flex-col gap-2 shrink-0 w-full md:w-auto"><button onClick={() => window.open(c.itemUrl || 'https://amazon.co.jp', '_blank')} className="px-6 py-3 border border-white/20 rounded-xl text-xs font-black uppercase hover:bg-white hover:text-black transition">å•†å“ãƒšãƒ¼ã‚¸ã‚’é–‹ã</button><button onClick={() => {if(confirm("ç™ºæ³¨å®Œäº†ã¨ã—ã¦ãƒãƒ¼ã‚¯ã—ã¾ã™ã‹ï¼Ÿ")) {setCampaigns(campaigns.map(item => item.id === c.id ? {...item, status: 'ordered'} : item));}}} className="px-6 py-3 bg-green-500 text-black rounded-xl text-xs font-black uppercase hover:bg-green-400 transition shadow-lg shadow-green-500/20">ç™ºæ³¨å®Œäº†ã«ã™ã‚‹</button></div></div>))}</div>)}
                                {adminTab === 'reports' && (<div className="space-y-8"><div className="glass-panel p-10 rounded-[3rem] border border-orange-500/20"><h3 className="text-lg font-black italic mb-8 uppercase">æ´»å‹•å ±å‘Šã®æ–°è¦ä½œæˆ</h3><div className="grid grid-cols-1 md:grid-cols-2 gap-8"><div className="space-y-4"><input className="input-field" placeholder="å¯¾è±¡ãƒãƒ¼ãƒ å" id="rep-team" /><input className="input-field" placeholder="ã‚¿ã‚¤ãƒˆãƒ«" id="rep-title" /><div className="h-40 border-2 border-dashed border-white/10 rounded-2xl flex items-center justify-center relative hover:border-orange-500 transition cursor-pointer"><span className="text-[10px] font-black text-slate-500">ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</span><input type="file" className="absolute inset-0 opacity-0 cursor-pointer" id="rep-img" /></div></div><textarea className="input-field h-full" placeholder="å ±å‘Šæœ¬æ–‡..." id="rep-content"></textarea></div><button className="w-full mt-8 bg-white text-black py-4 rounded-2xl font-black uppercase text-sm" onClick={() => {const newRep = { id: Date.now(), team: document.getElementById('rep-team').value, title: document.getElementById('rep-title').value, content: document.getElementById('rep-content').value, date: new Date().toLocaleDateString('ja-JP'), image: null }; setReports([newRep, ...reports]); alert("å ±å‘Šã‚’å…¬é–‹ã—ã¾ã—ãŸ");}}>å…¬é–‹ã™ã‚‹</button></div></div>)}
                                {adminTab === 'revenue' && (<div className="space-y-12"><div className="grid grid-cols-1 md:grid-cols-3 gap-6"><div className="glass-panel p-8 rounded-[2rem] border-t-4 border-orange-600"><p className="text-xs font-black text-slate-500 mb-2">ç·æ”¯æ´é¡</p><p className="text-4xl font-black italic">Â¥{stats.total.toLocaleString()}</p></div><div className="glass-panel p-8 rounded-[2rem]"><p className="text-xs font-black text-slate-500 mb-2">æ‰‹æ•°æ–™åç›Š (10%)</p><p className="text-4xl font-black italic text-orange-500">Â¥{stats.fee.toLocaleString()}</p></div><div className="glass-panel p-8 rounded-[2rem]"><p className="text-xs font-black text-slate-500 mb-2">é€æ–™ãƒ—ãƒ¼ãƒ«</p><p className="text-4xl font-black italic text-white">Â¥{stats.shipping.toLocaleString()}</p></div></div></div>)}
                            </div>
                        ) : view === 'home' ? (
                            /* ================= ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡¨ç¤º (çœç•¥ãªã—) ================= */
                            <>
                                {activeTab === 'campaigns' && (
                                    <>
                                        <section className="pt-32 pb-24 px-8 text-center fade-in">
                                            <h1 className="text-7xl md:text-[9rem] font-black italic tracking-tighter uppercase leading-[0.85] text-white">Support Your<br/><span className="text-orange-600">Dream Team.</span></h1>
                                            <p className="text-xl md:text-3xl font-black text-slate-300 mt-8 tracking-widest">ãã®ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ãŒã€æœªæ¥ã®ã‚¢ã‚¹ãƒªãƒ¼ãƒˆã®åŠ›ã«ãªã‚‹ã€‚</p>
                                            
                                            <div className="max-w-md mx-auto mt-12 md:hidden">
                                                <input 
                                                    type="text" 
                                                    placeholder="ãƒãƒ¼ãƒ åã‚„å•†å“ã§æ¤œç´¢..." 
                                                    value={searchQuery}
                                                    onChange={(e) => setSearchQuery(e.target.value)}
                                                    className="w-full bg-white/10 border border-white/10 rounded-full py-4 px-8 text-sm font-bold text-white focus:border-orange-500 outline-none transition"
                                                />
                                            </div>

                                            <div className="w-24 h-2 bg-orange-600 mx-auto mt-16"></div>
                                        </section>
                                        <div className="max-w-7xl mx-auto px-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 pb-32">
                                            {filteredCampaigns.map(c => {
                                                const target = calcTarget(c.price);
                                                const progress = Math.min((c.current / target) * 100, 100);
                                                const isGoal = c.current >= target;

                                                return (
                                                    <div key={c.id} className="campaign-card glass-panel rounded-[2.5rem] overflow-hidden cursor-pointer p-2 border border-white/5 relative" onClick={() => {setSelectedCampaign(c); setView('detail'); setSupportStep(1); setCustomAmountInput(""); window.scrollTo(0,0);}}>
                                                        {isGoal && (
                                                            <div className="absolute inset-0 z-20 flex items-center justify-center bg-black/40 pointer-events-none rounded-[2.5rem]">
                                                                <div className="border-8 border-orange-500 text-orange-500 text-6xl font-black italic uppercase p-4 rounded-xl goal-stamp tracking-tighter rotate-[-15deg]">GOAL!!</div>
                                                            </div>
                                                        )}

                                                        <div className="aspect-square bg-white rounded-[2rem] p-12 flex items-center justify-center m-2 relative">
                                                            <img src={c.image} className="max-h-full object-contain" />
                                                        </div>
                                                        <div className="p-8">
                                                            <span className="inline-block bg-white text-black px-4 py-1 rounded-full text-sm font-black mb-3 shadow-lg">
                                                                {c.team}
                                                            </span>
                                                            <h3 className="text-xl font-black italic uppercase tracking-tighter text-white h-14 line-clamp-2 leading-none mb-6">{c.name}</h3>
                                                            <div className="flex items-center gap-2 mb-2 text-xs font-bold text-slate-400"><span className="text-orange-500">ğŸ‘¤</span> {c.supporters || 0}äººãŒæ”¯æ´ä¸­</div>
                                                            <div className="w-full h-1.5 bg-white/10 rounded-full overflow-hidden mb-4"><div className="h-full progress-glow" style={{width: `${progress}%`}}></div></div>
                                                            <div className="flex justify-between items-end">
                                                                <div><p className="text-[10px] font-black text-slate-500 uppercase mb-1">ç¾åœ¨</p><span className="text-2xl font-black italic">Â¥{c.current.toLocaleString()}</span></div>
                                                                <div className="text-right"><p className="text-[10px] font-black text-slate-500 uppercase mb-1">ç›®æ¨™</p><span className="text-xs font-black italic">/ Â¥{target.toLocaleString()}</span></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                );
                                            })}
                                        </div>
                                    </>
                                )}
                                {activeTab === 'howitworks' && (
                                    <div className="max-w-6xl mx-auto py-20 px-8 fade-in">
                                        <div className="text-center mb-16"><h2 className="text-4xl font-black italic uppercase tracking-tighter mb-4 text-orange-500">ã”åˆ©ç”¨ã®æµã‚Œ</h2><p className="text-slate-500 font-bold">ç°¡å˜3ã‚¹ãƒ†ãƒƒãƒ—ã§æ”¯æ´å®Œäº†</p></div>
                                        <div className="grid grid-cols-1 md:grid-cols-3 gap-8">{[ {step: "01", title: "ãƒªã‚¯ã‚¨ã‚¹ãƒˆ", text: "ãƒãƒ¼ãƒ ãŒå¿…è¦ãªå•†å“ã‚’Amazonç­‰ã‹ã‚‰é¸ã³ã€äº‹å‹™å±€ã¸ç”³è«‹ã—ã¾ã™ã€‚"}, {step: "02", title: "æ”¯æ´å‹Ÿé›†", text: "ã‚µãƒãƒ¼ã‚¿ãƒ¼ãŒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å…±æ„Ÿã—ã€å°‘é¡ã‹ã‚‰æ”¯æ´ã‚’è¡Œã„ã¾ã™ã€‚"}, {step: "03", title: "å•†å“ãŠå±Šã‘", text: "ç›®æ¨™é‡‘é¡ã«é”ã™ã‚‹ã¨ã€äº‹å‹™å±€ãŒå•†å“ã‚’è³¼å…¥ã—ãƒãƒ¼ãƒ ã¸é…é€ã—ã¾ã™ã€‚"} ].map((s, i) => (<div key={i} className="glass-panel p-10 rounded-[2.5rem] relative overflow-hidden group hover:border-orange-500/50 transition"><div className="text-8xl font-black italic text-white/5 absolute -top-4 -right-4">{s.step}</div><h3 className="text-2xl font-black italic mb-4 text-orange-500">{s.title}</h3><p className="text-sm text-slate-300 font-bold leading-relaxed">{s.text}</p></div>))}</div>
                                    </div>
                                )}
                                {activeTab === 'thanks' && (
                                    <div className="max-w-4xl mx-auto py-20 px-8 fade-in">
                                        <h2 className="text-center text-3xl font-black italic uppercase mb-12 tracking-tighter text-orange-500">æ´»å‹•å ±å‘Š</h2>
                                        <div className="space-y-8">{reports.map(rep => (<div key={rep.id} className="glass-panel p-8 rounded-[2rem] flex gap-8 items-start"><div className="w-32 h-32 bg-white/10 rounded-2xl shrink-0"></div><div><p className="text-[10px] font-black text-slate-500 mb-2">{rep.date} | {rep.team}</p><h3 className="text-xl font-black italic mb-4">{rep.title}</h3><p className="text-sm text-slate-400 font-bold">{rep.content}</p></div></div>))}</div>
                                    </div>
                                )}
                            </>
                        ) : view === 'detail' ? (
                            <div className="max-w-6xl mx-auto p-4 md:p-12 fade-in pb-40">
                                <button onClick={() => setView('home')} className="text-slate-500 font-black flex items-center gap-2 hover:text-white transition uppercase text-[10px] tracking-widest mb-6">â† ä¸€è¦§ã«æˆ»ã‚‹</button>
                                <div className="grid grid-cols-1 lg:grid-cols-5 gap-8 lg:gap-16">
                                    <div className="lg:col-span-3">
                                        <div className="glass-panel p-8 md:p-10 rounded-[3rem] border-t-8 border-orange-600 relative overflow-hidden">
                                            {selectedCampaign.current >= calcTarget(selectedCampaign.price) && (
                                                <div className="absolute top-10 right-10 z-20 pointer-events-none">
                                                    <div className="border-8 border-orange-500 text-orange-500 text-5xl font-black italic uppercase p-4 rounded-xl goal-stamp tracking-tighter rotate-[-15deg] opacity-50">GOAL!!</div>
                                                </div>
                                            )}
                                            
                                            <span className="inline-block bg-white text-black px-4 py-1 rounded-full text-sm font-black mb-4 shadow-lg">{selectedCampaign.team}</span>
                                            <h2 className="text-3xl md:text-4xl font-black italic uppercase tracking-tighter leading-none mb-4">{selectedCampaign.name}</h2>
                                            <div className="mb-8 flex items-center gap-2"><span className="bg-orange-600/20 text-orange-500 px-3 py-1 rounded-full text-xs font-black">ğŸ‘¤ {selectedCampaign.supporters || 0} Supporters</span><span className="text-slate-400 text-xs font-bold">ãŒå¿œæ´ä¸­</span></div>
                                            <div className="aspect-square bg-white rounded-3xl p-16 flex items-center justify-center relative"><img src={selectedCampaign.image} className="max-h-full object-contain" /></div>
                                            <div className="mt-12 pt-8 border-t border-white/10">
                                                <h4 className="text-sm font-black text-orange-500 uppercase mb-4 tracking-widest">Why we need this</h4>
                                                <p className="text-slate-300 font-bold leading-relaxed whitespace-pre-wrap">{selectedCampaign.description || "ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®ç†±ã„æƒ³ã„ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚"}</p>
                                            </div>
                                            
                                            <div className="mt-12 pt-8 border-t border-white/10">
                                                <h4 className="text-sm font-black text-slate-500 uppercase mb-6 tracking-widest text-center">ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚·ã‚§ã‚¢ã™ã‚‹</h4>
                                                <div className="flex justify-center gap-4">
                                                    <a href={`https://twitter.com/intent/tweet?text=${shareText(selectedCampaign)}&url=${shareUrl}`} target="_blank" className="w-12 h-12 bg-black rounded-full flex items-center justify-center text-white border border-white/20 hover:border-orange-500 transition"><svg fill="currentColor" width="20" height="20" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>
                                                    <a href={`https://social-plugins.line.me/lineit/share?url=${shareUrl}`} target="_blank" className="w-12 h-12 bg-[#06C755] rounded-full flex items-center justify-center text-white hover:opacity-90 transition"><svg fill="currentColor" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 5.56 2 10.12c0 2.42 1.25 4.57 3.32 6.09.43.32.32.85.2 1.35-.15.63-.53 1.74-.55 1.83 0 0-.1.39.2.53.31.15.86.04 3.59-1.44 3.25.93 6.77.27 3.24.27 5.52 0 10-3.56 10-8.12S17.52 2 12 2z"/></svg></a>
                                                    <a href={`https://www.facebook.com/sharer/sharer.php?u=${shareUrl}`} target="_blank" className="w-12 h-12 bg-[#1877F2] rounded-full flex items-center justify-center text-white hover:opacity-90 transition"><svg fill="currentColor" width="24" height="24" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg></a>
                                                    <button onClick={copyToClipboard} className="w-12 h-12 bg-gradient-to-tr from-yellow-400 via-red-500 to-purple-500 rounded-full flex items-center justify-center text-white hover:scale-105 transition"><svg fill="none" stroke="currentColor" strokeWidth="2" width="20" height="20" viewBox="0 0 24 24"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg></button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div className="lg:col-span-2">
                                        <div className="glass-panel p-6 rounded-[2rem] border border-white/10 h-fit sticky top-24">
                                            {supportStep === 1 && (
                                                <div className="space-y-4 fade-in">
                                                    <h3 className="text-lg font-black italic text-center text-orange-500 uppercase">Step 1: é‡‘é¡ã‚’é¸æŠ</h3>
                                                    {(() => {
                                                        const target = calcTarget(selectedCampaign.price);
                                                        const remaining = target - selectedCampaign.current;
                                                        
                                                        if (remaining <= 0) return (
                                                            <div className="py-10 text-center">
                                                                <div className="text-4xl mb-2">ğŸ‰</div>
                                                                <p className="text-xl font-black text-white">Target Reached!</p>
                                                                <p className="text-xs text-slate-400 mt-2">ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ç›®æ¨™ã‚’é”æˆã—ã¾ã—ãŸã€‚<br/>ã”æ”¯æ´ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚</p>
                                                            </div>
                                                        );

                                                        return (
                                                            <>
                                                                <div className="text-center bg-white/5 rounded-xl p-4">
                                                                    <p className="text-[10px] text-slate-500 font-bold uppercase">ã‚ã¨</p>
                                                                    <p className="text-3xl font-black italic text-white">Â¥{remaining.toLocaleString()}</p>
                                                                    <p className="text-[10px] text-slate-500 font-bold uppercase">ã§ã‚´ãƒ¼ãƒ«é”æˆ</p>
                                                                </div>

                                                                <button onClick={() => {setSelectedAmount(remaining); setSupportStep(2);}} className="w-full py-4 bg-white text-black rounded-xl font-black text-sm italic uppercase shadow-lg hover:scale-[1.02] transition flex justify-between px-6 items-center">
                                                                    <span className="text-xs text-slate-500">å…¨é¡æ”¯æ´ã—ã¦ã‚´ãƒ¼ãƒ«</span>
                                                                    <span>Â¥{remaining.toLocaleString()}</span>
                                                                </button>
                                                                
                                                                <div className="grid grid-cols-3 gap-2">
                                                                    {[1000, 3000, 5000].map(v => (
                                                                        <button 
                                                                            key={v} 
                                                                            disabled={v > remaining}
                                                                            onClick={() => {setSelectedAmount(v); setSupportStep(2);}} 
                                                                            className={`py-3 border rounded-xl font-black italic text-sm transition ${v > remaining ? 'bg-white/5 border-white/5 text-slate-600 cursor-not-allowed' : 'bg-white/5 border-white/10 hover:border-orange-500'}`}
                                                                        >
                                                                            Â¥{v.toLocaleString()}
                                                                        </button>
                                                                    ))}
                                                                </div>
                                                                
                                                                <div className="pt-4 border-t border-white/10 space-y-2">
                                                                    <p className="text-[10px] font-bold text-slate-400 text-center uppercase">ã¾ãŸã¯é‡‘é¡ã‚’æŒ‡å®š</p>
                                                                    <div className="flex gap-2">
                                                                        <input 
                                                                            type="number" 
                                                                            className="input-field text-center font-black" 
                                                                            placeholder={`Â¥ 1,000 ~ ${remaining}`} 
                                                                            value={customAmountInput} 
                                                                            onChange={handleCustomAmountChange} 
                                                                            max={remaining}
                                                                        />
                                                                        <button 
                                                                            onClick={() => {
                                                                                let val = parseInt(customAmountInput);
                                                                                if(val > remaining) val = remaining; 
                                                                                setSelectedAmount(val); 
                                                                                setSupportStep(2);
                                                                            }} 
                                                                            disabled={!customAmountInput || parseInt(customAmountInput) < 1000}
                                                                            className={`px-4 rounded-xl font-black text-xs uppercase transition whitespace-nowrap ${!customAmountInput || parseInt(customAmountInput) < 1000 ? 'bg-white/5 text-slate-500 cursor-not-allowed' : 'bg-orange-600 text-white hover:bg-orange-500'}`}
                                                                        >
                                                                            æ±ºå®š
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </>
                                                        );
                                                    })()}
                                                </div>
                                            )}
                                            {supportStep === 2 && (
                                                <div className="space-y-4 fade-in">
                                                    <h3 className="text-lg font-black italic text-center text-orange-500 uppercase">Step 2: æƒ…å ±ç™»éŒ²</h3>
                                                    <div className="text-center text-2xl font-black italic text-white py-2 border-b border-white/10">Â¥{selectedAmount.toLocaleString()}</div>
                                                    <div className="grid grid-cols-2 gap-2">
                                                        <input className="input-field" placeholder="ãŠåå‰" />
                                                        <input className="input-field" placeholder="å¹´é½¢" type="number" />
                                                    </div>
                                                    <input className="input-field" placeholder="ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹" type="email" />
                                                    <button onClick={() => setSupportStep(3)} className="w-full py-4 bg-orange-600 rounded-xl font-black text-lg italic uppercase hover:bg-orange-500 transition shadow-lg mt-2">æ¬¡ã¸é€²ã‚€</button>
                                                    <button onClick={() => setSupportStep(1)} className="w-full text-[10px] font-black uppercase text-slate-500 text-center">æˆ»ã‚‹</button>
                                                </div>
                                            )}
                                            {supportStep === 3 && (
                                                <div className="space-y-6 fade-in text-center py-4">
                                                    <h3 className="text-lg font-black italic uppercase">Step 3: æ±ºæ¸ˆ</h3>
                                                    <div className="p-4 bg-white/5 rounded-xl">
                                                        <p className="text-slate-400 font-bold uppercase text-[10px] mb-2">Total Amount</p>
                                                        <p className="text-3xl font-black text-white">Â¥{selectedAmount.toLocaleString()}</p>
                                                    </div>
                                                    <p className="text-[10px] text-slate-500">Stripeã§å®‰å…¨ã«æ±ºæ¸ˆã•ã‚Œã¾ã™</p>
                                                    <button onClick={() => {alert("ã”æ”¯æ´ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼"); setView('home');}} className="w-full py-4 bg-orange-600 rounded-xl font-black text-xl italic uppercase shadow-xl hover:bg-orange-500 transition">æ±ºæ¸ˆã‚’ç¢ºå®šã™ã‚‹</button>
                                                    <button onClick={() => setSupportStep(2)} className="w-full text-[10px] font-black uppercase text-slate-500 text-center">æˆ»ã‚‹</button>
                                                </div>
                                            )}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        ) : view === 'apply' && (
                            /* ================= â‘  æ²è¼‰ãƒªã‚¯ã‚¨ã‚¹ãƒˆ (URLæ¬„è¿½åŠ ) ================= */
                            <div className="max-w-2xl mx-auto py-24 px-8 fade-in">
                                <div className="text-center mb-16"><h2 className="text-4xl font-black italic uppercase text-orange-500 mb-4">æ²è¼‰ãƒªã‚¯ã‚¨ã‚¹ãƒˆ</h2><p className="text-slate-500 font-bold uppercase text-[10px] tracking-[0.4em]">ãƒãƒ¼ãƒ ã«å¿…è¦ãªã‚‚ã®ã‚’ç”³è«‹ã—ã¾ã—ã‚‡ã†</p></div>
                                <div className="glass-panel p-12 rounded-[4rem] space-y-8 border-t-[12px] border-orange-600 shadow-2xl">
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4"><input className="input-field" placeholder="ãƒãƒ¼ãƒ å" value={applyForm.team} onChange={e => setApplyForm({...applyForm, team: e.target.value})} /><input className="input-field" placeholder="æ‹…å½“è€…ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹" type="email" value={applyForm.email} onChange={e => setApplyForm({...applyForm, email: e.target.value})} /></div>
                                    
                                    {/* URLå…¥åŠ›æ¬„ã®è¿½åŠ  */}
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <input className="input-field" placeholder="ãƒãƒ¼ãƒ å…¬å¼ã‚µã‚¤ãƒˆURL (ä»»æ„)" value={applyForm.teamUrl} onChange={e => setApplyForm({...applyForm, teamUrl: e.target.value})} />
                                        <input className="input-field" placeholder="SNS URL (ä»»æ„)" value={applyForm.snsUrl} onChange={e => setApplyForm({...applyForm, snsUrl: e.target.value})} />
                                    </div>

                                    <input className="input-field" placeholder="å•†å“URL (Amazon/æ¥½å¤©ãªã©)" value={applyForm.itemUrl} onChange={e => setApplyForm({...applyForm, itemUrl: e.target.value})} />
                                    <div className="border-2 border-dashed border-white/10 rounded-3xl p-12 text-center relative cursor-pointer hover:border-orange-500 transition group bg-white/5"><span className="text-[10px] font-black text-slate-500 uppercase group-hover:text-white transition">ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ (ã‚¯ãƒªãƒƒã‚¯)</span><input type="file" className="absolute inset-0 opacity-0 cursor-pointer" onChange={(e) => handleImageUpload(e, (res) => setApplyForm({...applyForm, image: res}))} /></div>
                                    <textarea className="input-field h-32" placeholder="ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ç†ç”± (ä¾‹: ç·´ç¿’è©¦åˆã®æ©Ÿä¼šãŒå¢—ãˆã€ãƒ¦ãƒ‹ãƒ•ã‚©ãƒ¼ãƒ ãŒä¸è¶³ã—ã¦ã„ã¾ã™...)" value={applyForm.description} onChange={e => setApplyForm({...applyForm, description: e.target.value})}></textarea>
                                    
                                    <div className="bg-white/5 p-6 rounded-2xl border border-white/10 space-y-3">
                                        <p className="text-xs font-bold text-orange-500 uppercase tracking-widest">Confirmation</p>
                                        <div className="flex items-start gap-4">
                                            <input type="checkbox" id="apply-agree" className="mt-1 w-5 h-5 accent-orange-600 cursor-pointer" checked={applyAgreed} onChange={() => setApplyAgreed(!applyAgreed)} />
                                            <label htmlFor="apply-agree" className="text-xs text-slate-300 font-bold leading-relaxed cursor-pointer select-none">ç§ã¯ã€<span className="text-white underline cursor-pointer" onClick={(e)=>{e.preventDefault(); setModal({open: true, title: 'åˆ©ç”¨è¦ç´„ï¼ˆç¬¬3æ¡ï¼‰', content: docContent.terms})}}>åˆ©ç”¨è¦ç´„ ç¬¬3æ¡ï¼ˆæ²è¼‰ç”³è«‹ãŠã‚ˆã³è¡¨æ˜ä¿è¨¼ï¼‰</span>ã«åŸºã¥ãã€ç”³è«‹ã™ã‚‹ãƒãƒ¼ãƒ ãŒå®Ÿåœ¨ã—ã€æ´»å‹•å®Ÿæ…‹ãŒã‚ã‚‹ã“ã¨ã€ãŠã‚ˆã³æœ¬ç”³è«‹ãŒè™šå½ã§ã¯ãªã„ã“ã¨ã‚’èª“ç´„ã—ã¾ã™ã€‚è™šå½ãŒç™ºè¦šã—ãŸå ´åˆã€æ³•çš„è²¬ä»»ã‚’è² ã†ã“ã¨ã«åŒæ„ã—ã¾ã™ã€‚</label>
                                        </div>
                                    </div>
                                    
                                    <div className="text-center">
                                        <p className="text-[10px] text-slate-400 font-bold mb-4">â€»å¯©æŸ»ãƒ»æ²è¼‰ã¾ã§ã«æ•°å–¶æ¥­æ—¥å¿…è¦ã¨ãªã‚‹å ´åˆãŒã”ã–ã„ã¾ã™ã€‚</p>
                                        <button onClick={() => { if(!applyForm.team || !applyForm.email) { alert("ãƒãƒ¼ãƒ åã¨ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯å¿…é ˆã§ã™"); return; } if(!applyAgreed){ alert("è¦ç´„ã¸ã®åŒæ„ãŒå¿…è¦ã§ã™"); return; } setRequests([...requests, { ...applyForm, id: Date.now(), estimatedPrice: 0, status: "pending", date: new Date().toLocaleDateString('ja-JP') }]); alert("ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã—ã¾ã—ãŸ"); setView('home'); }} className={`w-full py-6 rounded-3xl font-black text-xl italic uppercase shadow-xl transition ${applyAgreed ? 'bg-orange-600 hover:bg-orange-500' : 'bg-white/10 text-slate-500 cursor-not-allowed'}`} disabled={!applyAgreed}>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡</button>
                                    </div>
                                </div>
                            </div>
                        )}
                    </main>

                    <footer className="border-t border-white/5 py-16 px-8 bg-black">
                        <div className="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8">
                            <div><span className="font-black italic text-xl block mb-2 text-center md:text-left">MySupporter</span><p onClick={() => !isAdminMode && setShowLogin(true)} className={`text-[10px] font-black uppercase tracking-widest text-slate-800 ${!isAdminMode ? 'cursor-pointer hover:text-slate-700 secret-trigger' : ''}`}>Â© 2026 MySupporter. All Rights Reserved.</p></div>
                            <div className="flex flex-wrap justify-center gap-6">
                                <button onClick={() => setModal({open: true, title: 'åˆ©ç”¨è¦ç´„', content: docContent.terms})} className="text-[10px] font-black uppercase text-slate-500 hover:text-orange-500 transition-colors">åˆ©ç”¨è¦ç´„</button>
                                <button onClick={() => setModal({open: true, title: 'ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼', content: docContent.privacy})} className="text-[10px] font-black uppercase text-slate-500 hover:text-orange-500 transition-colors">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</button>
                                <button onClick={() => setModal({open: true, title: 'ç‰¹å®šå•†å–å¼•æ³•ã«åŸºã¥ãè¡¨è¨˜', content: docContent.tokusho})} className="text-[10px] font-black uppercase text-slate-500 hover:text-orange-500 transition-colors">ç‰¹å®šå•†å–å¼•æ³•ã«åŸºã¥ãè¡¨è¨˜</button>
                                <a href="https://ymozfleet-creator.github.io/Ark/" target="_blank" className="text-[10px] font-black uppercase text-slate-500 hover:text-orange-500 transition-colors">é‹å–¶ä¼šç¤¾</a>
                            </div>
                        </div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>